{"ast":null,"code":"import _asyncToGenerator from \"/Users/laurenzhinterholzer/Documents/Statistik/Statistik 2022S/BAC Statistik/platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./file-upload.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction FileUploadComponent_input_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 7);\n    i0.ɵɵlistener(\"change\", function FileUploadComponent_input_39_Template_input_change_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.fileChanged();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"writeFile\", true);\n  }\n}\n\nfunction FileUploadComponent_br_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\n\nfunction FileUploadComponent_ul_43_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵlistener(\"click\", function FileUploadComponent_ul_43_span_8_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.removeCurrentFile();\n    });\n    i0.ɵɵelement(1, \"fa-icon\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FileUploadComponent_ul_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"li\", 8);\n    i0.ɵɵtext(3, \"\\n      \");\n    i0.ɵɵelementStart(4, \"span\", 9);\n    i0.ɵɵlistener(\"click\", function FileUploadComponent_ul_43_Template_span_click_4_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.downloadCurrentFile();\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵtemplate(8, FileUploadComponent_ul_43_span_8_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(9, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n  \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.fileMetaData == null ? null : ctx_r2.fileMetaData.fileName, \" - \", i0.ɵɵpipeBind2(6, 3, ctx_r2.fileMetaData == null ? null : ctx_r2.fileMetaData.submissionDate, \"dd.MM.yyyy HH:mm\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.disabled);\n  }\n}\n\nfunction FileUploadComponent_span_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 13);\n  }\n}\n\nfunction FileUploadComponent_span_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class FileUploadComponent {\n  constructor(fileUploadService, fb) {\n    this.fileUploadService = fileUploadService;\n    this.fb = fb;\n    this.fileRemoved = new EventEmitter();\n    this.fileAdded = new EventEmitter();\n    this.fileModified = new EventEmitter();\n    this.fileUploadGroup = this.fb.group({\n      fileUpload: [null, []]\n    }); // problem with interface\n\n    this.isSaving = false; // disabled is not working\n\n    this.disabled = false;\n    this.testing = \"asdf\";\n    this._fileId = -1;\n    this._originalId = -1;\n    this._fileRemoved = false;\n    this._fileSelected = false;\n  }\n\n  set fileId(value) {\n    var _this = this;\n\n    this._fileId = value;\n\n    if (value > -1) {\n      this._originalId = value;\n\n      _asyncToGenerator(function* () {\n        _this.fileMetaData = yield _this.fileUploadService.getFileMetaData(value).toPromise();\n      })();\n    } else {\n      this.fileMetaData = undefined;\n    }\n  }\n\n  get fileId() {\n    return this._fileId;\n  }\n  /**\n   * Returns whether the file is set or not.\n   */\n\n\n  isFileSet() {\n    return this._fileId > -1;\n  }\n  /**\n   * Event handler for a file change.\n   */\n\n\n  fileChanged() {\n    this._fileSelected = true;\n  }\n  /**\n   * Downloads the current file.\n   */\n\n\n  downloadCurrentFile() {\n    this.fileUploadService.retrieveAndDownloadFile(this.fileId);\n  }\n  /**\n   * Marks the current file as removed.\n   */\n\n\n  removeCurrentFile() {\n    this.fileId = -1;\n    this._fileRemoved = true;\n  }\n  /**\n   * Asynchronously saves the current file selection.\n   */\n\n\n  saveAsync() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let newId = -1;\n      _this2.isSaving = true;\n\n      if (_this2._fileRemoved) {\n        yield _this2.fileUploadService.deleteFile(_this2._originalId).toPromise();\n      }\n\n      if (_this2._fileSelected) {\n        const fileList = _this2.fileUploadGroup.get(['fileUpload']).value;\n\n        const file = fileList.item(0);\n        newId = yield _this2.fileUploadService.uploadFile(file).toPromise();\n      }\n\n      if (_this2._fileRemoved && newId === -1) {\n        _this2.fileRemoved.emit(_this2._originalId);\n      } else if (!_this2._fileRemoved && _this2._originalId < 0 && newId >= 0) {\n        _this2.fileAdded.emit(newId);\n      } else if ((_this2._fileRemoved || _this2._originalId >= 0 && _this2._originalId !== newId) && newId >= 0) {\n        yield _this2.fileUploadService.deleteFile(_this2._originalId).toPromise();\n\n        _this2.fileModified.emit([_this2._originalId, newId]);\n      }\n\n      _this2.fileId = newId;\n      _this2.isSaving = false;\n    })();\n  }\n\n}\n\nFileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n  return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.FileUploadService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nFileUploadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FileUploadComponent,\n  selectors: [[\"jhi-file-upload\"]],\n  inputs: {\n    disabled: \"disabled\",\n    fileId: \"fileId\"\n  },\n  outputs: {\n    fileRemoved: \"fileRemoved\",\n    fileAdded: \"fileAdded\",\n    fileModified: \"fileModified\"\n  },\n  decls: 58,\n  vars: 7,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"jhiTranslate\", \"shared.fileUpload.header\"], [\"type\", \"file\", \"placeholder\", \"Fileupload\", \"formControlName\", \"fileUpload\", \"class\", \"form-control-file\", 3, \"writeFile\", \"change\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm mr-1\", 4, \"ngIf\"], [\"jhiTranslate\", \"shared.fileUpload.saveButton\"], [\"type\", \"file\", \"placeholder\", \"Fileupload\", \"formControlName\", \"fileUpload\", 1, \"form-control-file\", 3, \"writeFile\", \"change\"], [1, \"bold-font\"], [1, \"pointer\", \"hover-underline\", 3, \"click\"], [\"class\", \"pointer\", 3, \"click\", 4, \"ngIf\"], [1, \"pointer\", 3, \"click\"], [\"icon\", \"times\"], [1, \"spinner-border\", \"spinner-border-sm\", \"mr-1\"]],\n  template: function FileUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"\\n\");\n      i0.ɵɵtext(1, \"\\n\");\n      i0.ɵɵtext(2, \"\\n\");\n      i0.ɵɵtext(3, \"\\n\\n\\n\");\n      i0.ɵɵtext(4, \"\\n\");\n      i0.ɵɵtext(5, \"\\n\");\n      i0.ɵɵtext(6, \"\\n\");\n      i0.ɵɵtext(7, \"\\n\");\n      i0.ɵɵtext(8, \"\\n\");\n      i0.ɵɵtext(9, \"\\n\");\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵtext(11, \"\\n\");\n      i0.ɵɵtext(12, \"\\n\\n\");\n      i0.ɵɵtext(13, \"\\n\");\n      i0.ɵɵtext(14, \"\\n\\n\\n\");\n      i0.ɵɵtext(15, \"\\n\");\n      i0.ɵɵtext(16, \"\\n\");\n      i0.ɵɵtext(17, \"\\n\");\n      i0.ɵɵtext(18, \"\\n\");\n      i0.ɵɵtext(19, \"\\n\");\n      i0.ɵɵtext(20, \"\\n\");\n      i0.ɵɵtext(21, \"\\n\");\n      i0.ɵɵtext(22, \"\\n\");\n      i0.ɵɵtext(23, \"\\n\");\n      i0.ɵɵtext(24, \"\\n\");\n      i0.ɵɵtext(25, \"\\n\");\n      i0.ɵɵtext(26, \"\\n\\n\");\n      i0.ɵɵtext(27, \"\\n\\n\");\n      i0.ɵɵtext(28, \"\\n\");\n      i0.ɵɵtext(29, \"\\n\");\n      i0.ɵɵtext(30, \"\\n\");\n      i0.ɵɵtext(31, \"\\n\");\n      i0.ɵɵtext(32, \"\\n\");\n      i0.ɵɵtext(33, \"\\n\\n\");\n      i0.ɵɵelementStart(34, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function FileUploadComponent_Template_form_ngSubmit_34_listener() {\n        return ctx.saveAsync();\n      });\n      i0.ɵɵtext(35, \"\\n  \");\n      i0.ɵɵelementStart(36, \"h5\", 1);\n      i0.ɵɵtext(37, \"File upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n\\n  \");\n      i0.ɵɵtemplate(39, FileUploadComponent_input_39_Template, 1, 1, \"input\", 2);\n      i0.ɵɵtext(40, \"\\n  \");\n      i0.ɵɵtemplate(41, FileUploadComponent_br_41_Template, 1, 0, \"br\", 3);\n      i0.ɵɵtext(42, \"\\n  \");\n      i0.ɵɵtemplate(43, FileUploadComponent_ul_43_Template, 11, 6, \"ul\", 3);\n      i0.ɵɵtext(44, \"\\n\\n  \");\n      i0.ɵɵelement(45, \"br\");\n      i0.ɵɵtext(46, \"\\n\\n  \");\n      i0.ɵɵelementStart(47, \"button\", 4);\n      i0.ɵɵtext(48, \"\\n    \");\n      i0.ɵɵtemplate(49, FileUploadComponent_span_49_Template, 1, 0, \"span\", 5);\n      i0.ɵɵtext(50, \"\\n    \");\n      i0.ɵɵtemplate(51, FileUploadComponent_span_51_Template, 2, 0, \"span\", 3);\n      i0.ɵɵtext(52, \"\\n    \");\n      i0.ɵɵelementStart(53, \"span\", 6);\n      i0.ɵɵtext(54, \"Save upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(56, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(57, \"\\n\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"formGroup\", ctx.fileUploadGroup);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", !ctx.disabled);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.fileId >= 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.fileId >= 0);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", ctx.isSaving || ctx.disabled);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isSaving);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.isSaving);\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i3.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName],\n  pipes: [i3.DatePipe],\n  styles: [\".bold-font[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.pointer[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.hover-underline[_ngcontent-%COMP%]:hover {\\n  -webkit-text-decoration-line: underline;\\n          text-decoration-line: underline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtdXBsb2FkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7QUFDRjs7QUFFQTtFQUNFLHVDQUFBO1VBQUEsK0JBQUE7QUFDRiIsImZpbGUiOiJmaWxlLXVwbG9hZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib2xkLWZvbnQge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnBvaW50ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5ob3Zlci11bmRlcmxpbmU6aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb24tbGluZTogdW5kZXJsaW5lO1xufVxuIl19 */\"]\n});","map":{"version":3,"sources":["/Users/laurenzhinterholzer/Documents/Statistik/Statistik 2022S/BAC Statistik/platform/src/main/webapp/app/shared/file/file-upload/file-upload.component.ts"],"names":["EventEmitter","i0","i1","i2","i3","FileUploadComponent_input_39_Template","rf","ctx","_r6","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","FileUploadComponent_input_39_Template_input_change_0_listener","ɵɵrestoreView","ctx_r5","ɵɵnextContext","fileChanged","ɵɵelementEnd","ɵɵproperty","FileUploadComponent_br_41_Template","ɵɵelement","FileUploadComponent_ul_43_span_8_Template","_r9","FileUploadComponent_ul_43_span_8_Template_span_click_0_listener","ctx_r8","removeCurrentFile","FileUploadComponent_ul_43_Template","_r11","ɵɵtext","FileUploadComponent_ul_43_Template_span_click_4_listener","ctx_r10","downloadCurrentFile","ɵɵpipe","ɵɵtemplate","ctx_r2","ɵɵadvance","ɵɵtextInterpolate2","fileMetaData","fileName","ɵɵpipeBind2","submissionDate","disabled","FileUploadComponent_span_49_Template","FileUploadComponent_span_51_Template","FileUploadComponent","constructor","fileUploadService","fb","fileRemoved","fileAdded","fileModified","fileUploadGroup","group","fileUpload","isSaving","testing","_fileId","_originalId","_fileRemoved","_fileSelected","fileId","value","getFileMetaData","toPromise","undefined","isFileSet","retrieveAndDownloadFile","saveAsync","newId","deleteFile","fileList","get","file","item","uploadFile","emit","ɵfac","FileUploadComponent_Factory","t","ɵɵdirectiveInject","FileUploadService","FormBuilder","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","outputs","decls","vars","consts","template","FileUploadComponent_Template","FileUploadComponent_Template_form_ngSubmit_34_listener","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","NgIf","DefaultValueAccessor","NgControlStatus","FormControlName","pipes","DatePipe","styles"],"mappings":"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","sourcesContent":["import { EventEmitter } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./file-upload.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction FileUploadComponent_input_39_Template(rf, ctx) { if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 7);\n    i0.ɵɵlistener(\"change\", function FileUploadComponent_input_39_Template_input_change_0_listener() { i0.ɵɵrestoreView(_r6); const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.fileChanged(); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    i0.ɵɵproperty(\"writeFile\", true);\n} }\nfunction FileUploadComponent_br_41_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n} }\nfunction FileUploadComponent_ul_43_span_8_Template(rf, ctx) { if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵlistener(\"click\", function FileUploadComponent_ul_43_span_8_Template_span_click_0_listener() { i0.ɵɵrestoreView(_r9); const ctx_r8 = i0.ɵɵnextContext(2); return ctx_r8.removeCurrentFile(); });\n    i0.ɵɵelement(1, \"fa-icon\", 12);\n    i0.ɵɵelementEnd();\n} }\nfunction FileUploadComponent_ul_43_Template(rf, ctx) { if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"li\", 8);\n    i0.ɵɵtext(3, \"\\n      \");\n    i0.ɵɵelementStart(4, \"span\", 9);\n    i0.ɵɵlistener(\"click\", function FileUploadComponent_ul_43_Template_span_click_4_listener() { i0.ɵɵrestoreView(_r11); const ctx_r10 = i0.ɵɵnextContext(); return ctx_r10.downloadCurrentFile(); });\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵtemplate(8, FileUploadComponent_ul_43_span_8_Template, 2, 0, \"span\", 10);\n    i0.ɵɵtext(9, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n  \");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.fileMetaData == null ? null : ctx_r2.fileMetaData.fileName, \" - \", i0.ɵɵpipeBind2(6, 3, ctx_r2.fileMetaData == null ? null : ctx_r2.fileMetaData.submissionDate, \"dd.MM.yyyy HH:mm\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.disabled);\n} }\nfunction FileUploadComponent_span_49_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 13);\n} }\nfunction FileUploadComponent_span_51_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n} }\nexport class FileUploadComponent {\n    constructor(fileUploadService, fb) {\n        this.fileUploadService = fileUploadService;\n        this.fb = fb;\n        this.fileRemoved = new EventEmitter();\n        this.fileAdded = new EventEmitter();\n        this.fileModified = new EventEmitter();\n        this.fileUploadGroup = this.fb.group({\n            fileUpload: [null, []],\n        });\n        // problem with interface\n        this.isSaving = false;\n        // disabled is not working\n        this.disabled = false;\n        this.testing = \"asdf\";\n        this._fileId = -1;\n        this._originalId = -1;\n        this._fileRemoved = false;\n        this._fileSelected = false;\n    }\n    set fileId(value) {\n        this._fileId = value;\n        if (value > -1) {\n            this._originalId = value;\n            (async () => {\n                this.fileMetaData = await this.fileUploadService.getFileMetaData(value).toPromise();\n            })();\n        }\n        else {\n            this.fileMetaData = undefined;\n        }\n    }\n    get fileId() {\n        return this._fileId;\n    }\n    /**\n     * Returns whether the file is set or not.\n     */\n    isFileSet() {\n        return this._fileId > -1;\n    }\n    /**\n     * Event handler for a file change.\n     */\n    fileChanged() {\n        this._fileSelected = true;\n    }\n    /**\n     * Downloads the current file.\n     */\n    downloadCurrentFile() {\n        this.fileUploadService.retrieveAndDownloadFile(this.fileId);\n    }\n    /**\n     * Marks the current file as removed.\n     */\n    removeCurrentFile() {\n        this.fileId = -1;\n        this._fileRemoved = true;\n    }\n    /**\n     * Asynchronously saves the current file selection.\n     */\n    async saveAsync() {\n        let newId = -1;\n        this.isSaving = true;\n        if (this._fileRemoved) {\n            await this.fileUploadService.deleteFile(this._originalId).toPromise();\n        }\n        if (this._fileSelected) {\n            const fileList = this.fileUploadGroup.get(['fileUpload']).value;\n            const file = fileList.item(0);\n            newId = await this.fileUploadService.uploadFile(file).toPromise();\n        }\n        if (this._fileRemoved && newId === -1) {\n            this.fileRemoved.emit(this._originalId);\n        }\n        else if (!this._fileRemoved && this._originalId < 0 && newId >= 0) {\n            this.fileAdded.emit(newId);\n        }\n        else if ((this._fileRemoved || (this._originalId >= 0 && this._originalId !== newId)) && newId >= 0) {\n            await this.fileUploadService.deleteFile(this._originalId).toPromise();\n            this.fileModified.emit([this._originalId, newId]);\n        }\n        this.fileId = newId;\n        this.isSaving = false;\n    }\n}\nFileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) { return new (t || FileUploadComponent)(i0.ɵɵdirectiveInject(i1.FileUploadService), i0.ɵɵdirectiveInject(i2.FormBuilder)); };\nFileUploadComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FileUploadComponent, selectors: [[\"jhi-file-upload\"]], inputs: { disabled: \"disabled\", fileId: \"fileId\" }, outputs: { fileRemoved: \"fileRemoved\", fileAdded: \"fileAdded\", fileModified: \"fileModified\" }, decls: 58, vars: 7, consts: [[3, \"formGroup\", \"ngSubmit\"], [\"jhiTranslate\", \"shared.fileUpload.header\"], [\"type\", \"file\", \"placeholder\", \"Fileupload\", \"formControlName\", \"fileUpload\", \"class\", \"form-control-file\", 3, \"writeFile\", \"change\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm mr-1\", 4, \"ngIf\"], [\"jhiTranslate\", \"shared.fileUpload.saveButton\"], [\"type\", \"file\", \"placeholder\", \"Fileupload\", \"formControlName\", \"fileUpload\", 1, \"form-control-file\", 3, \"writeFile\", \"change\"], [1, \"bold-font\"], [1, \"pointer\", \"hover-underline\", 3, \"click\"], [\"class\", \"pointer\", 3, \"click\", 4, \"ngIf\"], [1, \"pointer\", 3, \"click\"], [\"icon\", \"times\"], [1, \"spinner-border\", \"spinner-border-sm\", \"mr-1\"]], template: function FileUploadComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtext(0, \"\\n\");\n        i0.ɵɵtext(1, \"\\n\");\n        i0.ɵɵtext(2, \"\\n\");\n        i0.ɵɵtext(3, \"\\n\\n\\n\");\n        i0.ɵɵtext(4, \"\\n\");\n        i0.ɵɵtext(5, \"\\n\");\n        i0.ɵɵtext(6, \"\\n\");\n        i0.ɵɵtext(7, \"\\n\");\n        i0.ɵɵtext(8, \"\\n\");\n        i0.ɵɵtext(9, \"\\n\");\n        i0.ɵɵtext(10, \"\\n\");\n        i0.ɵɵtext(11, \"\\n\");\n        i0.ɵɵtext(12, \"\\n\\n\");\n        i0.ɵɵtext(13, \"\\n\");\n        i0.ɵɵtext(14, \"\\n\\n\\n\");\n        i0.ɵɵtext(15, \"\\n\");\n        i0.ɵɵtext(16, \"\\n\");\n        i0.ɵɵtext(17, \"\\n\");\n        i0.ɵɵtext(18, \"\\n\");\n        i0.ɵɵtext(19, \"\\n\");\n        i0.ɵɵtext(20, \"\\n\");\n        i0.ɵɵtext(21, \"\\n\");\n        i0.ɵɵtext(22, \"\\n\");\n        i0.ɵɵtext(23, \"\\n\");\n        i0.ɵɵtext(24, \"\\n\");\n        i0.ɵɵtext(25, \"\\n\");\n        i0.ɵɵtext(26, \"\\n\\n\");\n        i0.ɵɵtext(27, \"\\n\\n\");\n        i0.ɵɵtext(28, \"\\n\");\n        i0.ɵɵtext(29, \"\\n\");\n        i0.ɵɵtext(30, \"\\n\");\n        i0.ɵɵtext(31, \"\\n\");\n        i0.ɵɵtext(32, \"\\n\");\n        i0.ɵɵtext(33, \"\\n\\n\");\n        i0.ɵɵelementStart(34, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function FileUploadComponent_Template_form_ngSubmit_34_listener() { return ctx.saveAsync(); });\n        i0.ɵɵtext(35, \"\\n  \");\n        i0.ɵɵelementStart(36, \"h5\", 1);\n        i0.ɵɵtext(37, \"File upload\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(38, \"\\n\\n  \");\n        i0.ɵɵtemplate(39, FileUploadComponent_input_39_Template, 1, 1, \"input\", 2);\n        i0.ɵɵtext(40, \"\\n  \");\n        i0.ɵɵtemplate(41, FileUploadComponent_br_41_Template, 1, 0, \"br\", 3);\n        i0.ɵɵtext(42, \"\\n  \");\n        i0.ɵɵtemplate(43, FileUploadComponent_ul_43_Template, 11, 6, \"ul\", 3);\n        i0.ɵɵtext(44, \"\\n\\n  \");\n        i0.ɵɵelement(45, \"br\");\n        i0.ɵɵtext(46, \"\\n\\n  \");\n        i0.ɵɵelementStart(47, \"button\", 4);\n        i0.ɵɵtext(48, \"\\n    \");\n        i0.ɵɵtemplate(49, FileUploadComponent_span_49_Template, 1, 0, \"span\", 5);\n        i0.ɵɵtext(50, \"\\n    \");\n        i0.ɵɵtemplate(51, FileUploadComponent_span_51_Template, 2, 0, \"span\", 3);\n        i0.ɵɵtext(52, \"\\n    \");\n        i0.ɵɵelementStart(53, \"span\", 6);\n        i0.ɵɵtext(54, \"Save upload\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(55, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(56, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(57, \"\\n\");\n    } if (rf & 2) {\n        i0.ɵɵadvance(34);\n        i0.ɵɵproperty(\"formGroup\", ctx.fileUploadGroup);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.disabled);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.fileId >= 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.fileId >= 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isSaving || ctx.disabled);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSaving);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSaving);\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i3.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName], pipes: [i3.DatePipe], styles: [\".bold-font[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.pointer[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.hover-underline[_ngcontent-%COMP%]:hover {\\n  -webkit-text-decoration-line: underline;\\n          text-decoration-line: underline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGUtdXBsb2FkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7QUFDRjs7QUFFQTtFQUNFLHVDQUFBO1VBQUEsK0JBQUE7QUFDRiIsImZpbGUiOiJmaWxlLXVwbG9hZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib2xkLWZvbnQge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnBvaW50ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5ob3Zlci11bmRlcmxpbmU6aG92ZXIge1xuICB0ZXh0LWRlY29yYXRpb24tbGluZTogdW5kZXJsaW5lO1xufVxuIl19 */\"] });\n"]},"metadata":{},"sourceType":"module"}